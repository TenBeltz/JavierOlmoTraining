<div class="fixed bottom-0 right-0 z-50 items-center justify-center hidden py-4 mx-4" id="cookies-popup">
  <div class="container">
    <div class="flex flex-wrap items-center justify-between p-4 bg-gray-900 border rounded-lg">
      <div class="flex items-center w-full px-2 md:w-7/12 lg:w-2/3">
        <span class="mr-4 text-indigo-500">
          <svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="30" width="30" xmlns="http://www.w3.org/2000/svg" class="stroke-electric-lime">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
          </svg>
        </span>
        <div class="mb-6 md:mb-0">
          <h3 class="text-lg font-bold text-white">Usamos cookies</h3>
          <p class="text-sm font-medium">Por favor, acepta nuestras cookies para una mejor experiencia.</p>
        </div>
      </div>
      <div class="w-full md:w-5/12 lg:w-1/3">
        <div class="flex items-center space-x-3 md:justify-end">
          <button id="view-cookies" class="h-10 px-8 py-2 text-black bg-white rounded btn hover:bg-gray-50 active:bg-gray-100">Ver</button>
          <button id="accept-cookies" class="h-10 px-8 py-2 text-black rounded btn hover:bg-indigo-500 active:bg-indigo-700 bg-lime-400">Aceptar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
	const viewCookiesBtn = document.getElementById('view-cookies') as HTMLButtonElement;
	const acceptCookiesBtn = document.getElementById('accept-cookies') as HTMLButtonElement;
	const cookiesPopup = document.getElementById('cookies-popup') as HTMLDivElement;
	
	function getCookie(name: string) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
  }

	function toggleCookiesPopup(): void {
		cookiesPopup.classList.toggle('hidden');
		cookiesPopup.classList.toggle('flex');
	}

  if (!getCookie('cookies')) toggleCookiesPopup();

  viewCookiesBtn.addEventListener('click', () => window.location.href = '/cookies');

  acceptCookiesBtn.addEventListener('click', () => {
    document.cookie = "cookies=accepted; path=/; max-age=" + 60 * 60 * 24 * 30;
    toggleCookiesPopup();
  });
</script>